![waving](https://capsule-render.vercel.app/api?type=waving&height=200&text=ğŸ‰BigData_A302íŒ€ğŸ‰&fontAlign=50&fontAlignY=40&color=gradient)

# ì„œë¹„ìŠ¤ - ë„ì™€ì£¼ê°œëƒ¥ğŸ¾



## ëª©ì°¨

- [íŒ€ ì†Œê°œ](#íŒ€-ì†Œê°œ)

- [ì„œë¹„ìŠ¤ ê¸°íšì˜ë„](#ì„œë¹„ìŠ¤-ê¸°íšì˜ë„)

- [ì„œë¹„ìŠ¤ ì£¼ìš”ê¸°ëŠ¥](#ì„œë¹„ìŠ¤-ì£¼ìš”ê¸°ëŠ¥)

- [ì°¸ê³  ë°ì´í„°](#ì°¸ê³ -ë°ì´í„°)

- [ì™€ì´ì–´ í”„ë ˆì„](#ì™€ì´ì–´í”„ë ˆì„)

- [Git Convention](#Git Convention)

- [Jira](#Jira)

- [ì‹¤í–‰ë°©ë²•(FE, DB, BE)](#ì‹¤í–‰ë°©ë²•)

- [CI/CD](#CI/CD)

- [ì‹¤í–‰í™”ë©´](#ì‹¤í–‰í™”ë©´)

  



## íŒ€ ì†Œê°œ

| êµ¬ë¶„ | ì´ë¦„   | ê°œë°œ íŒŒíŠ¸  |
| ---- | ------ | :--------: |
| íŒ€ì¥ | ì•ˆì˜ì§„ |   ë°±ì—”ë“œ   |
| íŒ€ì› | ê¹€ê²½ì„ |   ë°±ì—”ë“œ   |
| íŒ€ì› | ê¹€ì¤‘ìš° | í”„ë¡ íŠ¸ì—”ë“œ |
| íŒ€ì› | ì†¡ì§€í˜¸ | í”„ë¡ íŠ¸ì—”ë“œ |
| íŒ€ì› | ì„ê±´í˜¸ |   ë°±ì—”ë“œ   |
| íŒ€ì› | ì¥íš¨ì • | í”„ë¡ íŠ¸ì—”ë“œ |

<hr>



## ì„œë¹„ìŠ¤ ê¸°íšì˜ë„

ë§¤ë…„ ì¦ê°€í•˜ëŠ” ìœ ê¸°ë™ë¬¼ ë°œìƒ ìˆ˜ [ì§€ë‚œí•´(2021) ìœ ê¸°ë™ë¬¼ 13ë§Œ ë§ˆë¦¬â€¦ 21%ëŠ” ì•ˆë½ì‚¬](https://futurechosun.com/archives/55827)<br/>
ìœ ê¸°ë™ë¬¼ ì¡°íšŒë° ì •ë³´ ì—´ëŒì˜ í¸ì˜ì„±ì„ ë†’ì´ë©°,<br/>
ì‰½ê³  ê°„í¸í•˜ê²Œ ì—¬ëŸ¬ ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ìœ ê¸°ë™ë¬¼ ê´€ë¦¬(ë´‰ì‚¬, ì…ì–‘)ì— ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ì„ ê°œë°œ

<hr>



## ì„œë¹„ìŠ¤ ì£¼ìš”ê¸°ëŠ¥

#### ìœ ê¸°ë™ë¬¼ ê´€ë ¨ ë°ì´í„° ì œê³µ (ë™ë¬¼ ì¡°íšŒ / ë°ì´í„° ì‹œê°í™”)

- í’ˆì¢…, ì„±ë³„, ìƒ‰ìƒ ë“± ë‹¤ì–‘í•œ ì¡°ê±´ë“¤ë¡œ ë³´í˜¸ì¤‘ì¸ ìœ ê¸°ë™ë¬¼ ì¡°íšŒ ê°€ëŠ¥
- 2007ë…„ë¶€í„°ì˜ ìœ ê¸°ë™ë¬¼ ê´€ë ¨ ë°ì´í„°ë¥¼ ë¶„ì„í•´, ì‹œê°ì ì¸ ì •ë³´ë¡œ ì œê³µ

#### ë³´í˜¸ì†Œ ê´€ë ¨ ë°ì´í„° ì œê³µ

- ì§€ì—­ë³„ í˜¹ì€ í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê°€ê¹Œìš´ ë³´í˜¸ì†Œ ì •ë³´ ì œê³µ

#### ë´‰ì‚¬ ì‹ ì²­

- ìœ ê¸°ë™ë¬¼ ë°œìƒì´ ì¦ì€ ì§€ì—­ ë˜ëŠ” ì¥ì†Œ ì •ë³´ ì œê³µ -> ì„œë¹„ìŠ¤ ì‚¬ìš©ìë“¤ì—ê²Œ ì†Œì •ì˜ í˜œíƒì„ ì œê³µí•˜ë©° í•´ë‹¹ì§€ì—­ ìë°œì  ë´‰ì‚¬ì°¸ì—¬ ê¶Œìœ 
- ê·¼ì²˜ or íŠ¹ì • ë³´í˜¸ì†Œ ë´‰ì‚¬

#### í”„ë¡œí•„ ê¾¸ë¯¸ê¸°

- ë´‰ì‚¬ or ì…ì–‘ ë“± ì„œë¹„ìŠ¤ë‚´ì—ì„œ ì œê³µí•˜ëŠ” ë‹¤ì–‘í•œ í™œë™ì„ í†µí•´ ê¾¸ë©°ì§„ í”„ë¡œí•„ì„ ë‹¤ë¥¸ ì‚¬ìš©ìì—ê²Œ ë“œëŸ¬ë‚´ë©° ë´‰ì‚¬ì˜ì‹ í•¨ì–‘ ë° ì„±ì·¨ê° ì¦ëŒ€

#### ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥

- ë´‰ì‚¬ ì¸ì› êµ¬í•˜ê¸°, ì£¼ë³€ ìœ ê¸°ë™ë¬¼ ì‹ ê³  ë“± ë‹¤ì–‘í•œ ì»¤ë®¤ë‹ˆí‹° í™œë™ ê°€ëŠ¥

#### ì¶”ê°€ë  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥

- êµ¬ì¡° ë™ë¬¼ ê´€ë ¨ ë°ì´í„° ë¶„ì„ ì •ë³´ ì œê³µ
- ì• ê²¬ ê´€ë ¨ ì„œë¹„ìŠ¤ ì •ë³´ ì œê³µ(ë³‘ì›, ì•½êµ­, ì¹´í˜ ë“±ë“±)
- ë¶„ì„ ìë£Œë¥¼ í†µí•´ì„œ ìœ ê¸° í™•ë¥ ì´ ë†’ì€ ë™ë¬¼

<hr>


## ì°¸ê³  ë°ì´í„°

- ê³µê³µë°ì´í„° í¬íƒˆì—ì„œ ì œê³µí•˜ëŠ” ë†ë¦¼ì¶•ì‚°ì‹í’ˆë¶€ ë†ë¦¼ì¶•ì‚°ê²€ì—­ë³¸ë¶€\_ë™ë¬¼ë³´í˜¸ê´€ë¦¬ì‹œìŠ¤í…œ ìœ ê¸°ë™ë¬¼ ì •ë³´ ì¡°íšŒ Open Apië¥¼ ì´ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
- ê³µê³µë°ì´í„° í¬í„¸ì— ì—†ëŠ” ì§€ì—­ì˜ ë°ì´í„°ëŠ” ê° ì§€ë°©ìì¹˜ë‹¨ì²´ í™ˆí˜ì´ì§€ì˜ ë°ì´í„°ë¥¼ ì´ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

---



## ì™€ì´ì–´ í”„ë ˆì„

- url: https://www.figma.com/file/CmLKh06fIyJd4xmydRdFs5/%EC%84%9C%EC%9A%B8-3%EB%B0%98-2%ED%8C%80?node-id=2%3A4

- ![figma](README.assets/figma.png)

<hr>



## Git Convention

- Git ì»¤ë°‹ ì»¨ë²¤ì…˜

  ```shell
  $ git checkout -b 'branch-name'
  
  $ git checkout -b (front or back)/Add-Login-API/#3EWIAOVAIE
  
  $ git checkout -b develop:(front or back)/ìœ í˜•-ê¸°ëŠ¥ìš”ì•½/jiraì´ìŠˆë²ˆí˜¸
  	          |-----| ëŠ” íŒŒê³ ì‹¶ì€ ë¸Œëœì¹˜ ì´ë¦„
  
  $ git branch checkout -b front/feature-login-menu-component/#ASDWQ123
  		         |------------------------------------------| (ë¸Œëœì¹˜ ì´ë¦„)
  $ git push ë¼ê³  ì¹˜ë©´ ì–´ë–»ê²Œ ì³ì•¼í•˜ëŠ”ì§€ ì•Œì•„ì„œ ì•Œë ¤ì¤Œ
  
  $ git push origin front-feature/#ASDWQ123-login-menu-component
  		  |------------------------------------------| (ë¸Œëœì¹˜ ì´ë¦„)
  
  /////////////////////////////////////////////////////////////////////////////////
  [ë³´ë‚¼ë•Œ]
  $ git add .
  
  $ git commit -m "#S06P12A202-80 Feat: Component ìƒì„±"
  
  $ git push origin develop:front/feature-nav-component/#S06P12A202-56
  
  $ git push origin develop:front/fest-home-funding-list/#S06P12A202-82
  
  [ë°›ì„ë•Œ]
  $ git pull origin develop
  ```

- branch-name ì–‘ì‹

  ```
  develop(front or back)/ìœ í˜•-ê¸°ëŠ¥ìš”ì•½/Jira ì´ìŠˆë²ˆí˜¸
  ```


<hr>



## Jira

- Story ì œëª©ì€ ì•„ë˜ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•œë‹¤.
  ```text
  [BE: ëŒ“ê¸€ ë“±ë¡] API ê°œë°œ
  [FE: ëŒ“ê¸€ ë“±ë¡] ê²Œì‹œê¸€ì— ëŒ“ê¸€ ë“±ë¡ ê¸°ëŠ¥ ê°œë°œ
  ```
  
- LabelsëŠ” ëŒ€ë¬¸ìë¡œ ì‘ì„±

- Labelsì— ì—…ë¬´ ì§ë¬´ëŠ” FRONTEND ë˜ëŠ” BACKENDë¡œ ì‘ì„±

- Labelsì— ì—…ë¬´ í˜•íƒœëŠ” Git ì»¤ë°‹ ë©”ì„¸ì§€ì™€ ë™ì¼(ex. FEAT, FIX, DOCS ë“±)   

<hr>



## ì‹¤í–‰ë°©ë²•(FE, DB, BE)

- FE

  - ë¹Œë“œ

    ```shell
    cd frontend
    docker build -t frontend .
    ```

  - ì‹¤í–‰

    ```shell
    docker ps -q --filter name=frontend | grep -q . && docker stop frontend && docker rm frontend
    docker run -d -p 80:80 -u root --name frontend frontend
    docker images -qf dangling=true | xargs -I{} docker rmi {}
    ```

- DB

  - ë°°í¬ ì „ ì‘ì—…

    ```shell
    mkdir /home/ubuntu/mysql
    docker pull mariadb
    ```

  - ë°°í¬

    ```shell
    docker ps -q --filter name=frontend | grep -q . && docker stop frontend && docker rm frontend
    docker run -v /home/ubuntu/mysql:/var/lib/mysql -d -it -p 3306:3306 -e MYSQL_ROOT_PASSWORD=root -e TZ=Asia/Seoul --name=mariadb mariadb
    ```

  - ìŠ¤í‚¤ë§ˆ ë° ê³„ì •í™•ì¸

    ```shell
    docker exec -it mariadb /bin/bash
    mysql -u root -p
    use mysql;
    
    # a302 ë°ì´í„°ë² ì´ìŠ¤ê°€ ì—†ëŠ” ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±ì´ í•„ìš”í•©ë‹ˆë‹¤.
    SHOW DATABASES;
    CREATE DATABASE a302db DEFAULT CHARACTER SET utf8mb4 collate utf8mb4_general_ci
    
    
    # admin ê³„ì • ë°ì´í„°ê°€ ì—†ì„ ì‹œì—ëŠ” admin ê³„ì •ì„ ìƒì„±í•˜ê³  a302dbì— ì ‘ê·¼ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.
    use user, host from user;
    CREATE USER 'admin'@'%' IDENTIFIED BY 'ehdhkwnrosid';
    GRANT ALL PRIVILEGES ON a302db.* TO 'admin'@'%';
    ```

- BE

  - ë°°í¬ ì „ ì‘ì—…

    ```shell
    # ë°ì´í„°ë² ì´ìŠ¤ê°€ ë¨¼ì € ë°°í¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
    
    # ë„ì»¤ ë³¼ë¥¨ ì„¤ì •ì„ ìœ„í•´ ì•„ë˜ ë””ë ‰í„°ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    mkdir -p /var/tmp/springboot/files/images/{badge,board,profile}
    
    # AWS corretto 11 JDKë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
    wget -O- https://apt.corretto.aws/corretto.key | sudo apt-key add - 
     sudo add-apt-repository 'deb https://apt.corretto.aws stable main'
    sudo apt-get update; sudo apt-get install -y java-11-amazon-corretto-jdk
    ```

  - ë¹Œë“œ

    ```shell
    cd backend
    chmod u+x ./gradlew
    ./gradlew build
    docker build -t backend .
    ```

  - ë°°í¬

    ```shell
    cd backend
    chmod u+x ./gradlew
    ./gradlew build
    docker build -t backend .
    ```

<hr>



## CI / CD(Docker, Jenkins)

- Docker

  - BE

    ```yaml
    version: "3.2"
    services:
      database:
        container_name: database
        image: mariadb
        environment:
          - MYSQL_ROOT_PASSWORD=ehdhkwnrosid
          - MYSQL_ROOT_HOST=%
        volumes:
          - /home/ubuntu/mysql:/var/lib/mysql
        command: ['--character-set-server=utf8mb4', '--collation-server=utf8mb4_unicode_ci']
        ports:
          - 3306:3306
    
      application:
        container_name: springboot
        build: .
        environment:
          SPRING_DATASOURCE_URL: jdbc:mariadb://database:3306/a302db?&serverTimezone=Asia/Seoul
          SPRING_DATASOURCE_USERNAME: admin
          SPRING_DATASOURCE_PASSWORD: ehdhkwnrosid
        ports:
          - 8080:8080
        depends_on:
          - database
    ```
    
  - FE
  
    ```dockerfile
    FROM node:alpine as builder
    
    WORKDIR '/usr/src/app'
    
    COPY package.json ./
    
    RUN npm install
    
    COPY ./ ./
    
    RUN npm run build
    
    FROM nginx
    EXPOSE 80
    COPY --from=builder /usr/src/app/build /usr/share/nginx/html
    ```
  
    
  
- Jenkins

  - Jenkinsfile

    ```
    pipeline {
        agent any
        
        environment {
            GIT_URL = "https://lab.ssafy.com/s06-bigdata-dist-sub2/S06P22A302.git"
        }
    
        tools {
            nodejs "nodejs"
        }
    
        stages {
            stage('Frontend Build') {
                steps {
                    sh 'docker build -t frontend ./frontend/'
                }
            }
    
            stage('Frontend Deploy') {
                steps {
                    sh 'docker ps -q --filter name=frontend | grep -q . && docker stop frontend && docker rm frontend'
                    sh 'docker run -d -p 80:80 -u root --name frontend frontend'
                }
            }
    
            stage('Frontend Finish') {
                steps{
                    sh 'docker images -qf dangling=true | xargs -I{} docker rmi {}'
                }
            }
    
            stage('Backend Build') {
                steps {
                    sh 'chmod u+x ./backend/gradlew'
                    dir('backend') {
                        sh 'sh ./gradlew build'
                    }
                    sh 'docker build -t backend ./backend/'
                }
            }
    
            stage('Backend Deploy') {
                steps {
                    sh 'docker ps -q --filter name=backend | grep -q . && docker stop backend && docker rm backend'
                    sh 'docker run -v /var/tmp/springboot/files:/var/tmp/springboot/files -d -it -p 8080:8080 --name backend backend'
                }
            }
    
            stage('Backend Finish') {
                steps{
                    sh 'docker images -qf dangling=true | xargs -I{} docker rmi {}'
                }
            }
        }
    }
    ```

<hr>



## ì‹¤í–‰ í™”ë©´ ì¼ë¶€

### 1. ë©”ì¸í˜ì´ì§€

![ë©”ì¸í˜ì´ì§€](README.assets/ë©”ì¸í˜ì´ì§€.png)



### 2. íšŒì›ê´€ë¦¬

###  ![íšŒì›ê°€ì…_ë¡œê·¸ì¸](README.assets/íšŒì›ê°€ì…_ë¡œê·¸ì¸.png)



### 3. ìœ ê¸°ë™ë¬¼í˜„í™© ì°¨íŠ¸

![ìœ ê¸°ë™ë¬¼í˜„í™©](README.assets/ìœ ê¸°ë™ë¬¼í˜„í™©.png)

![ì°¨íŠ¸1](README.assets/ì°¨íŠ¸1.png)

![ì°¨íŠ¸2](README.assets/ì°¨íŠ¸2.png)

![ì°¨íŠ¸3](README.assets/ì°¨íŠ¸3.png)



### 4. ì»¤ë®¤ë‹ˆí‹°

![7](README.assets/7.png)

![5](README.assets/5-16493293756331.png)

![3](README.assets/3.png)

![4](README.assets/4.png)



### 5. í”„ë¡œí•„

![8](README.assets/8.png)

![10](README.assets/10.png)



### 6. ë´‰ì‚¬í™œë™

![11](README.assets/11.png)

![2(1)](README.assets/2(1).png)


![1](README.assets/1.png)

![2(2)](README.assets/2(2).png)



### 7. ìœ ê¸°ë™ë¬¼

![ë™ë¬¼ì¡°íšŒ1](README.assets/ë™ë¬¼ì¡°íšŒ1.png)

![ë™ë¬¼ì¡°íšŒ2](README.assets/ë™ë¬¼ì¡°íšŒ2.png)

![ë™ë¬¼ì¡°íšŒ3](README.assets/ë™ë¬¼ì¡°íšŒ3.png)


### 8. ë³´í˜¸ì†Œ

![ë³´í˜¸ì†Œì¡°íšŒ1](README.assets/ë³´í˜¸ì†Œì¡°íšŒ1.png)

![ë³´í˜¸ì†Œì¡°íšŒ2](README.assets/ë³´í˜¸ì†Œì¡°íšŒ2.png)
